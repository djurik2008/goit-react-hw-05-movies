{"version":3,"file":"static/js/817.0267be0d.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/Movies/MoviesList/moviesList.module.css?2017","components/Movies/MoviesList/MoviesList.jsx","webpack://react-homework-template/./src/components/Movies/SearchForm/searchForm.module.css?3a2f","components/Movies/SearchForm/SearchForm.jsx","components/Movies/MoviesSearch/moviesSearch.module.css","components/Movies/MoviesSearch/MoviesSearch.jsx","pages/MoviesPage/MoviesPage.jsx","service/apiFilms.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"moviesList\":\"moviesList_moviesList__amZlo\",\"movieListItem\":\"moviesList_movieListItem__-4tg0\",\"movieLink\":\"moviesList_movieLink__o+Bfs\",\"rating\":\"moviesList_rating__bOb-a\"};","import { Link, useLocation } from 'react-router-dom';\nimport css from './moviesList.module.css';\n\nconst MoviesList = ({ items }) => {\n  const location = useLocation();\n\n  const elements = items.map(({ id, title, vote_average }) => (\n    <li key={id} className={css.movieListItem}>\n      <Link\n        className={css.movieLink}\n        to={`/movies/${id}`}\n        state={{ from: location }}\n      >\n        {title}\n      </Link>\n      <p className={css.rating}>Rating: {vote_average}</p>\n    </li>\n  ));\n  return <ul className={css.moviesList}>{elements}</ul>;\n};\n\nexport default MoviesList;\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"searchForm_form__nWiSQ\",\"button\":\"searchForm_button__P7gbQ\",\"buttonLabel\":\"searchForm_buttonLabel__xbWSA\",\"input\":\"searchForm_input__oM+F3\"};","import { useState } from 'react';\nimport css from './searchForm.module.css';\n\nconst SearchForm = ({ onSubmit }) => {\n  const [state, setState] = useState({\n    search: '',\n  });\n\n  const handleChange = ({ target }) => {\n    const { name, value } = target;\n    setState({\n      ...state,\n      [name]: value,\n    });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    onSubmit({ ...state });\n    reset();\n  };\n\n  const reset = () => {\n    setState({\n      search: '',\n    });\n  };\n\n  const PATTERN = '[A-Za-z0-9]{1,15}';\n\n  return (\n    <form className={css.form} onSubmit={handleSubmit}>\n      <button type=\"submit\" className={css.button}>\n        <span className={css.buttonLabel}>Search</span>\n      </button>\n\n      <input\n        className={css.input}\n        type=\"text\"\n        autoComplete=\"off\"\n        autoFocus\n        placeholder=\"Search movie\"\n        onChange={handleChange}\n        pattern={PATTERN}\n        value={state.search}\n        name=\"search\"\n        required\n      />\n    </form>\n  );\n};\n\nexport default SearchForm;\n","// extracted by mini-css-extract-plugin\nexport default {};","import { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { getSearchMovie } from 'service/apiFilms';\nimport MoviesList from '../MoviesList/MoviesList';\nimport SearchForm from '../SearchForm/SearchForm';\nimport Loader from 'components/Loader/Loader';\nimport css from './moviesSearch.module.css';\n\nconst MoviesSearch = () => {\n  const [movies, setMovies] = useState([]);\n  //   const [search, setSearch] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const search = searchParams.get('search') ?? '';\n\n  useEffect(() => {\n    const fetchMovie = async () => {\n      try {\n        setLoading(true);\n        const {\n          data: { results },\n        } = await getSearchMovie(search);\n        setMovies(results);\n      } catch (error) {\n        setError(error.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchMovie();\n  }, [search]);\n\n  const handleSearch = ({ search: word }) => {\n    if (search === word) {\n      return;\n    }\n    setSearchParams({ search: word });\n    setMovies([]);\n  };\n\n  return (\n    <>\n      <SearchForm onSubmit={handleSearch} />\n      {error && <p className={css.error}>{error}</p>}\n      {loading && <Loader />}\n      {movies && (\n        <div>\n          <MoviesList items={movies} />\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default MoviesSearch;\n","import MoviesSearch from 'components/Movies/MoviesSearch/MoviesSearch';\n\nconst MoviesPage = () => {\n  return (\n    <div>\n      <MoviesSearch />\n    </div>\n  );\n};\n\nexport default MoviesPage;\n","import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = 'c2cb27046eece6b474a585335d7daf3b';\n\nexport const getTrendingMovies = () =>\n  axios.get(`${BASE_URL}/trending/movie/day?api_key=${API_KEY}`);\n\nexport const getSearchMovie = query =>\n  axios.get(`${BASE_URL}/search/movie?api_key=${API_KEY}&query=${query}`);\n\nexport const getMovieById = movieId =>\n  axios.get(`${BASE_URL}/movie/${movieId}?api_key=${API_KEY}`);\n\nexport const getMovieCast = movieId =>\n  axios.get(`${BASE_URL}/movie/${movieId}/credits?api_key=${API_KEY}`);\n\nexport const getMovieReviews = movieId =>\n  axios.get(`${BASE_URL}/movie/${movieId}/reviews?api_key=${API_KEY}`);\n"],"names":["_ref","items","location","useLocation","elements","map","_ref2","id","title","vote_average","_jsxs","className","css","children","_jsx","Link","to","concat","state","from","onSubmit","_useState","useState","search","_useState2","_slicedToArray","setState","reset","e","preventDefault","_objectSpread","type","autoComplete","autoFocus","placeholder","onChange","target","name","value","_defineProperty","pattern","required","_searchParams$get","movies","setMovies","_useState3","_useState4","loading","setLoading","_useState5","_useState6","error","setError","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","get","useEffect","fetchMovie","_asyncToGenerator","_regeneratorRuntime","_callee","_yield$getSearchMovie","results","_context","prev","next","getSearchMovie","sent","data","t0","message","finish","stop","apply","arguments","_Fragment","SearchForm","word","Loader","MoviesList","MoviesSearch","BASE_URL","API_KEY","getTrendingMovies","axios","query","getMovieById","movieId","getMovieCast","getMovieReviews"],"sourceRoot":""}