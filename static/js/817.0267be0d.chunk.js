"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[817],{315:function(e,t,n){n.d(t,{Z:function(){return m}});var r=n(689),a=n(87),c="moviesList_moviesList__amZlo",s="moviesList_movieListItem__-4tg0",i="moviesList_movieLink__o+Bfs",o="moviesList_rating__bOb-a",u=n(184),m=function(e){var t=e.items,n=(0,r.TH)(),m=t.map((function(e){var t=e.id,r=e.title,c=e.vote_average;return(0,u.jsxs)("li",{className:s,children:[(0,u.jsx)(a.rU,{className:i,to:"/movies/".concat(t),state:{from:n},children:r}),(0,u.jsxs)("p",{className:o,children:["Rating: ",c]})]},t)}));return(0,u.jsx)("ul",{className:c,children:m})}},817:function(e,t,n){n.r(t),n.d(t,{default:function(){return j}});var r=n(861),a=n(439),c=n(757),s=n.n(c),i=n(791),o=n(87),u=n(20),m=n(315),f=n(942),l=n(413),v="searchForm_form__nWiSQ",h="searchForm_button__P7gbQ",_="searchForm_buttonLabel__xbWSA",p="searchForm_input__oM+F3",d=n(184),x=function(e){var t=e.onSubmit,n=(0,i.useState)({search:""}),r=(0,a.Z)(n,2),c=r[0],s=r[1],o=function(){s({search:""})};return(0,d.jsxs)("form",{className:v,onSubmit:function(e){e.preventDefault(),t((0,l.Z)({},c)),o()},children:[(0,d.jsx)("button",{type:"submit",className:h,children:(0,d.jsx)("span",{className:_,children:"Search"})}),(0,d.jsx)("input",{className:p,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movie",onChange:function(e){var t=e.target,n=t.name,r=t.value;s((0,l.Z)((0,l.Z)({},c),{},(0,f.Z)({},n,r)))},pattern:"[A-Za-z0-9]{1,15}",value:c.search,name:"search",required:!0})]})},g=n(119),Z={},b=function(){var e,t=(0,i.useState)([]),n=(0,a.Z)(t,2),c=n[0],f=n[1],l=(0,i.useState)(!1),v=(0,a.Z)(l,2),h=v[0],_=v[1],p=(0,i.useState)(null),b=(0,a.Z)(p,2),j=b[0],k=b[1],S=(0,o.lr)(),y=(0,a.Z)(S,2),N=y[0],L=y[1],w=null!==(e=N.get("search"))&&void 0!==e?e:"";(0,i.useEffect)((function(){var e=function(){var e=(0,r.Z)(s().mark((function e(){var t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,_(!0),e.next=4,(0,u.gH)(w);case 4:t=e.sent,n=t.data.results,f(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),k(e.t0.message);case 12:return e.prev=12,_(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(){return e.apply(this,arguments)}}();e()}),[w]);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(x,{onSubmit:function(e){var t=e.search;w!==t&&(L({search:t}),f([]))}}),j&&(0,d.jsx)("p",{className:Z.error,children:j}),h&&(0,d.jsx)(g.Z,{}),c&&(0,d.jsx)("div",{children:(0,d.jsx)(m.Z,{items:c})})]})},j=function(){return(0,d.jsx)("div",{children:(0,d.jsx)(b,{})})}},20:function(e,t,n){n.d(t,{Df:function(){return s},M1:function(){return u},Pg:function(){return o},gH:function(){return i},tx:function(){return m}});var r=n(294),a="https://api.themoviedb.org/3",c="c2cb27046eece6b474a585335d7daf3b",s=function(){return r.Z.get("".concat(a,"/trending/movie/day?api_key=").concat(c))},i=function(e){return r.Z.get("".concat(a,"/search/movie?api_key=").concat(c,"&query=").concat(e))},o=function(e){return r.Z.get("".concat(a,"/movie/").concat(e,"?api_key=").concat(c))},u=function(e){return r.Z.get("".concat(a,"/movie/").concat(e,"/credits?api_key=").concat(c))},m=function(e){return r.Z.get("".concat(a,"/movie/").concat(e,"/reviews?api_key=").concat(c))}}}]);
//# sourceMappingURL=817.0267be0d.chunk.js.map